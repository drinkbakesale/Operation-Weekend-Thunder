<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OPERATION: WEEKEND THUNDER</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Russo+One&family=Orbitron:wght@700;900&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    min-height: 100vh;
    background: #0a0a0a;
    color: #fff;
    font-family: 'Russo One', sans-serif;
    overflow-x: hidden;
  }

  /* Scanline overlay */
  body::after {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: repeating-linear-gradient(
      0deg,
      rgba(0,0,0,0.15) 0px,
      rgba(0,0,0,0.15) 1px,
      transparent 1px,
      transparent 3px
    );
    pointer-events: none;
    z-index: 1000;
  }

  /* Neon grid background */
  .bg-grid {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background:
      linear-gradient(rgba(255,0,100,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,0,100,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    perspective: 400px;
    z-index: 0;
  }

  .bg-gradient {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(ellipse at 50% 0%, rgba(120,0,255,0.25) 0%, transparent 60%),
                radial-gradient(ellipse at 50% 100%, rgba(255,0,80,0.15) 0%, transparent 50%);
    z-index: 0;
  }

  .container {
    position: relative;
    z-index: 1;
    max-width: 700px;
    margin: 0 auto;
    padding: 20px;
  }

  /* TITLE */
  .title-block {
    text-align: center;
    padding: 40px 0 10px;
  }

  .subtitle {
    font-family: 'Russo One', sans-serif;
    font-size: 0.85rem;
    letter-spacing: 6px;
    color: #ff6ec7;
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(1.8rem, 6vw, 3.2rem);
    font-weight: 900;
    background: linear-gradient(180deg, #fff 0%, #ff6ec7 40%, #ff2a6d 70%, #7b2ff7 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: none;
    filter: drop-shadow(0 0 20px rgba(255,110,199,0.5));
    line-height: 1.1;
  }

  .tagline {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.55rem;
    color: #00e5ff;
    letter-spacing: 2px;
    margin-top: 12px;
    text-shadow: 0 0 10px rgba(0,229,255,0.6);
  }

  /* Chrome divider */
  .chrome-divider {
    height: 3px;
    margin: 30px 0;
    background: linear-gradient(90deg, transparent, #ff6ec7, #7b2ff7, #00e5ff, #7b2ff7, #ff6ec7, transparent);
    border-radius: 2px;
    box-shadow: 0 0 12px rgba(255,110,199,0.4);
  }

  /* FORM SECTIONS */
  .form-section {
    margin-bottom: 30px;
  }

  label, .section-label {
    display: block;
    font-family: 'Orbitron', sans-serif;
    font-size: 0.85rem;
    font-weight: 700;
    color: #00e5ff;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 10px;
    text-shadow: 0 0 8px rgba(0,229,255,0.4);
  }

  .section-desc {
    font-size: 0.8rem;
    color: #b0b0b0;
    margin-bottom: 12px;
    font-family: sans-serif;
  }

  /* Dropdown */
  select {
    width: 100%;
    padding: 14px 18px;
    font-family: 'Russo One', sans-serif;
    font-size: 1rem;
    color: #fff;
    background: rgba(20,0,40,0.8);
    border: 2px solid #7b2ff7;
    border-radius: 4px;
    outline: none;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23ff6ec7'%3E%3Cpolygon points='0,4 16,4 8,14'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 14px center;
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  select:focus, select:hover {
    border-color: #ff6ec7;
    box-shadow: 0 0 15px rgba(255,110,199,0.3), inset 0 0 15px rgba(123,47,247,0.1);
  }

  select option {
    background: #1a0a2e;
    color: #fff;
  }

  /* Checkbox grid */
  .weekend-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  @media (max-width: 500px) {
    .weekend-grid { grid-template-columns: 1fr; }
  }

  .weekend-option {
    position: relative;
  }

  .weekend-option input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
  }

  .weekend-option label.weekend-label {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    background: rgba(20,0,40,0.6);
    border: 2px solid rgba(123,47,247,0.3);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Russo One', sans-serif;
    font-size: 0.85rem;
    color: #ccc;
    letter-spacing: 0;
    text-transform: none;
    text-shadow: none;
  }

  .weekend-option label.weekend-label::before {
    content: '';
    width: 20px;
    height: 20px;
    border: 2px solid #7b2ff7;
    border-radius: 3px;
    flex-shrink: 0;
    transition: all 0.2s;
  }

  /* Preferred (top 3) - magenta accent */
  .preferred .weekend-option input:checked + label.weekend-label {
    border-color: #ff6ec7;
    background: rgba(255,110,199,0.15);
    color: #fff;
    box-shadow: 0 0 12px rgba(255,110,199,0.2);
  }

  .preferred .weekend-option input:checked + label.weekend-label::before {
    background: #ff6ec7;
    border-color: #ff6ec7;
    box-shadow: 0 0 8px rgba(255,110,199,0.5);
  }

  /* Blocked - red accent */
  .blocked .weekend-option input:checked + label.weekend-label {
    border-color: #ff2a2a;
    background: rgba(255,42,42,0.15);
    color: #ff6b6b;
    box-shadow: 0 0 12px rgba(255,42,42,0.2);
  }

  .blocked .weekend-option input:checked + label.weekend-label::before {
    background: #ff2a2a;
    border-color: #ff2a2a;
    box-shadow: 0 0 8px rgba(255,42,42,0.5);
  }

  .weekend-option label.weekend-label:hover {
    border-color: #7b2ff7;
    background: rgba(123,47,247,0.15);
  }

  /* Error message */
  .error-msg {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.6rem;
    color: #ff2a2a;
    margin-top: 8px;
    display: none;
    text-shadow: 0 0 6px rgba(255,42,42,0.5);
  }

  .error-msg.visible { display: block; }

  /* SUBMIT BUTTON */
  .submit-wrap {
    text-align: center;
    margin: 40px 0;
  }

  button[type="submit"] {
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    font-size: 1.1rem;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: #fff;
    padding: 18px 50px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    position: relative;
    background: linear-gradient(135deg, #ff2a6d, #7b2ff7);
    box-shadow: 0 0 30px rgba(255,42,109,0.3), 0 0 60px rgba(123,47,247,0.2);
    transition: all 0.3s;
    overflow: hidden;
  }

  button[type="submit"]::before {
    content: '';
    position: absolute;
    top: 0; left: -100%; width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }

  button[type="submit"]:hover::before { left: 100%; }

  button[type="submit"]:hover {
    box-shadow: 0 0 40px rgba(255,42,109,0.5), 0 0 80px rgba(123,47,247,0.3);
    transform: scale(1.03);
  }

  button[type="submit"]:active {
    transform: scale(0.97);
  }

  button[type="submit"]:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  /* Success screen */
  .success-screen {
    display: none;
    text-align: center;
    padding: 60px 20px;
  }

  .success-screen.visible { display: block; }

  .success-screen h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2rem;
    background: linear-gradient(180deg, #00e5ff, #7b2ff7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 20px;
  }

  .success-screen p {
    color: #b0b0b0;
    font-size: 1rem;
    font-family: sans-serif;
  }

  .success-quote {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.6rem;
    color: #ff6ec7;
    margin-top: 30px;
    line-height: 1.8;
    text-shadow: 0 0 8px rgba(255,110,199,0.4);
  }

  /* Loading spinner */
  .spinner {
    display: none;
    width: 40px;
    height: 40px;
    border: 4px solid rgba(123,47,247,0.3);
    border-top: 4px solid #ff6ec7;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin: 0 auto;
  }

  .spinner.visible { display: block; }

  @keyframes spin { to { transform: rotate(360deg); } }

  /* Flicker animation for title */
  @keyframes flicker {
    0%, 95%, 100% { opacity: 1; }
    96% { opacity: 0.8; }
    97% { opacity: 1; }
    98% { opacity: 0.6; }
    99% { opacity: 1; }
  }

  h1 { animation: flicker 4s infinite; }

  /* VHS tracking line */
  @keyframes tracking {
    0% { top: -5%; }
    100% { top: 105%; }
  }

  .vhs-line {
    position: fixed;
    left: 0; right: 0;
    height: 2px;
    background: rgba(255,255,255,0.06);
    z-index: 999;
    animation: tracking 8s linear infinite;
    pointer-events: none;
  }
</style>
</head>
<body>
<div class="bg-grid"></div>
<div class="bg-gradient"></div>
<div class="vhs-line"></div>

<div class="container">
  <div class="title-block">
    <div class="subtitle">/// Classified Mission Briefing ///</div>
    <h1>OPERATION:<br>WEEKEND THUNDER</h1>
    <div class="tagline">Select your weekends. Save the world.</div>
  </div>

  <div class="chrome-divider"></div>

  <form id="mission-form" name="weekend-thunder" method="POST" data-netlify="true" netlify-honeypot="bot-field">
    <!-- Honeypot for bots -->
    <p style="display:none"><input name="bot-field"></p>
    <!-- Hidden fields for Netlify (JS-populated) -->
    <input type="hidden" name="preferred1" id="h-preferred1">
    <input type="hidden" name="preferred2" id="h-preferred2">
    <input type="hidden" name="preferred3" id="h-preferred3">
    <input type="hidden" name="blocked" id="h-blocked">

    <!-- Name -->
    <div class="form-section">
      <label for="codename">Identify Yourself, Soldier</label>
      <select id="codename" name="codename" required>
        <option value="">-- Select Your Codename --</option>
        <option value="Dutch (Schwarzenegger)">Dutch (Schwarzenegger)</option>
        <option value="John Matrix (Commando)">John Matrix (Commando)</option>
        <option value="John Rambo">John Rambo</option>
        <option value="Snake Plissken">Snake Plissken</option>
        <option value="Martin Riggs (Lethal Weapon)">Martin Riggs (Lethal Weapon)</option>
        <option value="John McClane (Die Hard)">John McClane (Die Hard)</option>
        <option value="Casey Ryback (Under Siege)">Casey Ryback (Under Siege)</option>
        <option value="Jack Burton (Big Trouble)">Jack Burton (Big Trouble)</option>
        <option value="Dalton (Road House)">Dalton (Road House)</option>
        <option value="Marion Cobretti (Cobra)">Marion Cobretti (Cobra)</option>
        <option value="Axel Foley (Beverly Hills Cop)">Axel Foley (Beverly Hills Cop)</option>
        <option value="The Terminator">The Terminator</option>
        <option value="RoboCop (Alex Murphy)">RoboCop (Alex Murphy)</option>
        <option value="Tango & Cash">Tango &amp; Cash</option>
        <option value="Col. James Braddock (MIA)">Col. James Braddock (MIA)</option>
      </select>
    </div>

    <div class="chrome-divider"></div>

    <!-- Preferred Weekends (Top 3) -->
    <div class="form-section preferred">
      <div class="section-label">Top 3 Preferred Weekends</div>
      <div class="section-desc">Select exactly 3 weekends for the mission. Choose wisely.</div>
      <div class="weekend-grid" id="preferred-grid">
        <!-- filled by JS -->
      </div>
      <div class="error-msg" id="preferred-error">You must select exactly 3 weekends, soldier.</div>
    </div>

    <div class="chrome-divider"></div>

    <!-- Blocked Weekends -->
    <div class="form-section blocked">
      <div class="section-label">No-Go Weekends</div>
      <div class="section-desc">Select any weekends where you absolutely CANNOT report for duty.</div>
      <div class="weekend-grid" id="blocked-grid">
        <!-- filled by JS -->
      </div>
    </div>

    <div class="chrome-divider"></div>

    <div class="submit-wrap">
      <button type="submit" id="submit-btn">TRANSMIT INTEL</button>
      <div class="spinner" id="spinner"></div>
    </div>
  </form>

  <div class="success-screen" id="success">
    <h2>MISSION ACCEPTED</h2>
    <p>Your intel has been transmitted to HQ.</p>
    <div class="success-quote">"I'll be back."<br>- The Terminator, 1984</div>
  </div>
</div>

<script>
  // Weekend dates (Sat-Sun)
  const WEEKENDS = [
    { label: 'Apr 25 - 26', value: '2026-04-25' },
    { label: 'May 2 - 3',   value: '2026-05-02' },
    { label: 'May 9 - 10',  value: '2026-05-09' },
    { label: 'May 16 - 17', value: '2026-05-16' },
    { label: 'May 23 - 24', value: '2026-05-23' },
    { label: 'May 30 - 31', value: '2026-05-30' },
    { label: 'Jun 6 - 7',   value: '2026-06-06' },
  ];

  // Build checkbox grids
  function buildGrid(containerId, prefix) {
    const grid = document.getElementById(containerId);
    WEEKENDS.forEach((w, i) => {
      const id = `${prefix}-${i}`;
      const div = document.createElement('div');
      div.className = 'weekend-option';
      div.innerHTML = `
        <input type="checkbox" id="${id}" name="${prefix}" value="${w.value}">
        <label class="weekend-label" for="${id}">${w.label}</label>
      `;
      grid.appendChild(div);
    });
  }

  buildGrid('preferred-grid', 'preferred');
  buildGrid('blocked-grid', 'blocked');

  // Enforce max 3 for preferred
  document.querySelectorAll('input[name="preferred"]').forEach(cb => {
    cb.addEventListener('change', () => {
      const checked = document.querySelectorAll('input[name="preferred"]:checked');
      if (checked.length > 3) {
        cb.checked = false;
      }
      document.getElementById('preferred-error').classList.toggle('visible', false);
    });
  });

  // Prevent selecting same weekend as both preferred and blocked
  document.querySelectorAll('input[name="preferred"]').forEach((cb, i) => {
    cb.addEventListener('change', () => {
      if (cb.checked) {
        const blocked = document.querySelector(`input[name="blocked"][value="${cb.value}"]`);
        if (blocked) blocked.checked = false;
      }
    });
  });

  document.querySelectorAll('input[name="blocked"]').forEach((cb, i) => {
    cb.addEventListener('change', () => {
      if (cb.checked) {
        const preferred = document.querySelector(`input[name="preferred"][value="${cb.value}"]`);
        if (preferred) preferred.checked = false;
      }
    });
  });

  // Submit via Netlify Forms
  document.getElementById('mission-form').addEventListener('submit', async (e) => {
    e.preventDefault();

    const codename = document.getElementById('codename').value;
    const preferred = [...document.querySelectorAll('input[name="preferred"]:checked')].map(c => c.value);
    const blocked = [...document.querySelectorAll('input[name="blocked"]:checked')].map(c => c.value);

    // Validate
    if (!codename) { alert('Select your codename, soldier!'); return; }
    if (preferred.length !== 3) {
      document.getElementById('preferred-error').classList.add('visible');
      return;
    }

    // Populate hidden fields for Netlify
    document.getElementById('h-preferred1').value = preferred[0];
    document.getElementById('h-preferred2').value = preferred[1];
    document.getElementById('h-preferred3').value = preferred[2];
    document.getElementById('h-blocked').value = blocked.join(', ') || 'None';

    const btn = document.getElementById('submit-btn');
    const spinner = document.getElementById('spinner');
    btn.disabled = true;
    btn.style.display = 'none';
    spinner.classList.add('visible');

    // Build form data from the hidden + select fields only
    const formData = new URLSearchParams();
    formData.append('form-name', 'weekend-thunder');
    formData.append('codename', codename);
    formData.append('preferred1', preferred[0]);
    formData.append('preferred2', preferred[1]);
    formData.append('preferred3', preferred[2]);
    formData.append('blocked', blocked.join(', ') || 'None');

    try {
      const response = await fetch('/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: formData.toString()
      });

      if (response.ok) {
        document.getElementById('mission-form').style.display = 'none';
        document.getElementById('success').classList.add('visible');
      } else {
        throw new Error('Server error');
      }
    } catch (err) {
      alert('Transmission failed! Try again, soldier.');
      btn.disabled = false;
      btn.style.display = '';
      spinner.classList.remove('visible');
    }
  });
</script>
</body>
</html>
